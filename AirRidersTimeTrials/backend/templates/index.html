<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kirby Air Riders - World Records</title>
  <!-- <link rel="stylesheet" href="static/styles.css"/> -->
  <link rel="stylesheet" href="static/compiledStyles.css"/>
</head>
<body>
  <div class="page-shell">
    <!-- Top grey nav bar -->
    <header class="top-nav">
      <div class="top-nav-inner">
        <nav class="top-links">
          <!-- Filled by JS depending on login state -->
        </nav>
      </div>
    </header>

    <div class="layout">
      <!-- Sidebar -->
      <aside class="sidebar">
        <!-- Logo -->
        <div class="logo-panel">
          <a href="#" class="logo-link" data-view="home">
            <img src="static/images/logos/logo.png" alt="Kirby Air Riders Logo" class="site-logo" />
          </a>
        </div>

        <!-- Stats -->
        <nav class="sidebar-panel">
          <h2 class="sidebar-title">Stats</h2>
          <ul class="sidebar-list">
            <li><a href="#" class="nav-link" data-view="home">Current WRs</a></li>
            <li><a href="#" class="nav-link" data-view="snapshot">WR Snapshot</a></li>
            <li><a href="#" class="nav-link" data-view="player-rankings">Player Rankings</a></li>
            <li><a href="#" class="nav-link" data-view="country-rankings">Country Rankings</a></li>
            <li><a href="#" class="nav-link" data-view="recent-wrs">Recent WRs</a></li>
          </ul>
        </nav>

        <!-- Air Ride WR History -->
        <nav class="sidebar-panel">
          <div class="sidebar-title-row">
            <h2 class="sidebar-title">Air Ride WR History</h2>
            <img src="static/images/logos/airride.png" alt="Air Ride" class="mini-logo" />
          </div>
          <ul class="sidebar-list sidebar-list-tight">
            <li><a href="#" class="course-link" data-course-id="floria-fields">Floria Fields</a></li>
            <li><a href="#" class="course-link" data-course-id="waveflow-waters">Waveflow Waters</a></li>
            <li><a href="#" class="course-link" data-course-id="airtopia-ruins">Airtopia Ruins</a></li>
            <li><a href="#" class="course-link" data-course-id="crystalline-fissure">Crystalline Fissure</a></li>
            <li><a href="#" class="course-link" data-course-id="steamgust-forge">Steamgust Forge</a></li>
            <li><a href="#" class="course-link" data-course-id="cavernous-corners">Cavernous Corners</a></li>
            <li><a href="#" class="course-link" data-course-id="cyberion-highway">Cyberion Highway</a></li>
            <li><a href="#" class="course-link" data-course-id="mount-amberfalls">Mount Amberfalls</a></li>
            <li><a href="#" class="course-link" data-course-id="galactic-nova">Galactic Nova</a></li>

            <li><a href="#" class="course-link" data-course-id="fantasy-meadows">Fantasy Meadows</a></li>
            <li><a href="#" class="course-link" data-course-id="frozen-hillside">Frozen Hillside</a></li>

            <li><a href="#" class="course-link" data-course-id="celestial-valley">Celestial Valley</a></li>
            <li><a href="#" class="course-link" data-course-id="sky-sands">Sky Sands</a></li>
            <li><a href="#" class="course-link" data-course-id="magma-flows">Magma Flows</a></li>
            <li><a href="#" class="course-link" data-course-id="beanstalk-park">Beanstalk Park</a></li>
            <li><a href="#" class="course-link" data-course-id="machine-passage">Machine Passage</a></li>
            <li><a href="#" class="course-link" data-course-id="checker-knights">Checker Knights</a></li>
            <li><a href="#" class="course-link" data-course-id="nebula-belt">Nebula Belt</a></li>
          </ul>
        </nav>

        <!-- Top Ride WR History -->
        <nav class="sidebar-panel">
          <div class="sidebar-title-row">
            <h2 class="sidebar-title">Top Ride WR History</h2>
            <img src="static/images/logos/topride.png" alt="Top Ride" class="mini-logo" />
          </div>
          <ul class="sidebar-list sidebar-list-tight">
            <li><a href="#" class="course-link" data-course-id="flower">Flower</a></li>
            <li><a href="#" class="course-link" data-course-id="flow">Flow</a></li>
            <li><a href="#" class="course-link" data-course-id="air">Air</a></li>
            <li><a href="#" class="course-link" data-course-id="crystal">Crystal</a></li>
            <li><a href="#" class="course-link" data-course-id="steam">Steam</a></li>
            <li><a href="#" class="course-link" data-course-id="cave">Cave</a></li>
            <li><a href="#" class="course-link" data-course-id="cyber">Cyber</a></li>
            <li><a href="#" class="course-link" data-course-id="mountain">Mountain</a></li>
            <li><a href="#" class="course-link" data-course-id="nova">Nova</a></li>
          </ul>
        </nav>
      </aside>

      <!-- MAIN CONTENT -->
      <main class="content">
        <!-- HOME VIEW -->
        <section class="course-panel active" data-view="home">
          <h1 class="page-title">Kirby Air Riders - World Records</h1>
          <p class="placeholder-text">
            Browse current world records across all Air Ride and Top Ride courses.
            Click a course on the left to view machine-specific records and history.
          </p>

          <h2 class="section-title">Current WRs</h2>
          <div class="table-wrapper">
            <table class="records-table">
              <thead>
                <tr>
                  <th>Course</th>
                  <th>Machine</th>
                  <th>Time</th>
                  <th>Player</th>
                  <th>Nation</th>
                  <th>Date</th>
                  <th>Character</th>
                </tr>
              </thead>
              <tbody id="home-current-wrs-body">
                <!-- JS fills from DB -->
              </tbody>
            </table>
          </div>
        </section>

        <!-- WR SNAPSHOT VIEW -->
        <section class="course-panel" data-view="snapshot" id="snapshot-panel">
          <h1 class="page-title">WR Snapshot</h1>
          <p class="placeholder-text">
            Quick summary view of records by course, machine, character, and nation.
          </p>

          <div class="table-wrapper">
            <table class="records-table">
              <thead>
                <tr>
                  <th>Course</th>
                  <th>Machine</th>
                  <th>Best Time</th>
                  <th>Player</th>
                  <th>Nation</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody id="snapshot-body"></tbody>
            </table>
          </div>
        </section>

        <!-- PLAYER RANKINGS VIEW -->
        <section class="course-panel" data-view="player-rankings" id="player-rankings-panel">
          <h1 class="page-title">Player Rankings</h1>
          <p class="placeholder-text">
            Rankings by total WR count, total days holding WRs, and other metrics.
          </p>

          <div class="table-wrapper">
            <table class="records-table">
              <thead>
                <tr>
                  <th>Rank</th>
                  <th>Player</th>
                  <th>Nation</th>
                  <th>WR Count</th>
                  <th>Total WR Days</th>
                </tr>
              </thead>
              <tbody id="player-rankings-body"></tbody>
            </table>
          </div>
        </section>

        <!-- COUNTRY RANKINGS VIEW -->
        <section class="course-panel" data-view="country-rankings" id="country-rankings-panel">
          <h1 class="page-title">Country Rankings</h1>
          <p class="placeholder-text">
            Rankings by total records held by players from each nation.
          </p>

          <div class="table-wrapper">
            <table class="records-table">
              <thead>
                <tr>
                  <th>Rank</th>
                  <th>Nation</th>
                  <th>WR Count</th>
                  <th>Unique Players</th>
                </tr>
              </thead>
              <tbody id="country-rankings-body"></tbody>
            </table>
          </div>
        </section>

        <!-- RECENT WRS VIEW -->
        <section class="course-panel" data-view="recent-wrs" id="recent-wrs-panel">
          <h1 class="page-title">Recent WRs</h1>
          <p class="placeholder-text">
            Latest world records submitted across all courses (last 5 days).
          </p>

          <div class="table-wrapper">
            <table class="records-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Course</th>
                  <th>Machine</th>
                  <th>Time</th>
                  <th>Player</th>
                  <th>Nation</th>
                  <th>Character</th>
                </tr>
              </thead>
              <tbody id="recent-wrs-body"></tbody>
            </table>
          </div>
        </section>

        <!-- DYNAMIC COURSE VIEW -->
        <section class="course-panel" data-view="course" id="course-panel">
          <h1 class="page-title" id="course-title">Course Name</h1>

          <h2 class="course-section-title">Current Machine WRs</h2>
          <p class="course-note" id="course-note">One record per machine for this course.</p>

          <div class="table-wrapper course-table-wrapper">
            <table class="records-table">
              <thead>
                <tr>
                  <th>Machine</th>
                  <th>Date</th>
                  <th>Time</th>
                  <th>Player</th>
                  <th>Nation</th>
                  <th>Days</th>
                  <th>Lap 1</th>
                  <th>Lap 2</th>
                  <th>Lap 3</th>
                  <th>Character</th>
                </tr>
              </thead>
              <tbody id="current-wrs-body"></tbody>
            </table>
          </div>

          <h2 class="course-section-title">Course Stats</h2>
          <div class="course-stats-row">
            <div class="stat-box">
              <table class="stat-table">
                <thead>
                  <tr><th>Player</th><th>Total WR Days</th><th>%</th></tr>
                </thead>
                <tbody id="stats-by-player"></tbody>
              </table>
            </div>

            <div class="stat-box">
              <table class="stat-table">
                <thead>
                  <tr><th>Machine</th><th>Total WR Days</th><th>%</th></tr>
                </thead>
                <tbody id="stats-by-machine"></tbody>
              </table>
            </div>

            <div class="stat-box">
              <table class="stat-table">
                <thead>
                  <tr><th>Nation</th><th>Number of WRs</th></tr>
                </thead>
                <tbody id="stats-by-nation"></tbody>
              </table>
            </div>

            <div class="stat-box course-image-box">
              <ul class="course-summary" id="course-summary"></ul>
              <img src="" alt="" class="course-image" id="course-map" />
            </div>
          </div>

          <h2 class="course-section-title">History</h2>
          <div class="table-wrapper course-table-wrapper">
            <table class="records-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Machine</th>
                  <th>Time</th>
                  <th>Player</th>
                  <th>Nation</th>
                  <th>Days</th>
                  <th>Lap 1</th>
                  <th>Lap 2</th>
                  <th>Lap 3</th>
                  <th>Character</th>
                </tr>
              </thead>
              <tbody id="history-body"></tbody>
            </table>
          </div>
        </section>
      </main>
    </div>
  </div>

  <!-- ===== MODALS ===== -->
  <div class="modal" id="login-modal">
    <div class="modal-box">
      <h2>Log In</h2>
      <form id="login-form">
        <input type="text" id="login-username" placeholder="Username" required class="w-full rounded-md border border-gray-300 px-3 py-2"/>
        <input type="password" id="login-password" placeholder="Password" required class="w-full rounded-md border border-gray-300 px-3 py-2"/>
        <!-- Blue: <button type="submit" class="rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700">Log In</button> -->
        <button type="submit" class="rounded-md bg-pink-300 px-4 py-2 text-black hover:bg-pink-400">Log In</button>
      </form>
      <button class="modal-close rounded-md bg-gray-200 px-4 py-2 text-black hover:bg-gray-300" type="button">Cancel</button>
    </div>
  </div>

  <div class="modal" id="register-modal">
    <div class="modal-box">
      <h2>Register</h2>
      <form id="register-form">
        <input type="text" id="register-username" placeholder="Username" required class="w-full rounded-md border border-gray-300 px-3 py-2"/>
        <input type="password" id="register-password" placeholder="Password" required class="w-full rounded-md border border-gray-300 px-3 py-2"/>
        <select id="register-country" required class="w-full rounded-md border border-gray-300 px-3 py-2">
          <option value="">Loading countries…</option>
        </select>
        <button type="submit" class="rounded-md bg-pink-300 px-4 py-2 text-black hover:bg-pink-400">Create Account</button>
      </form>
      <button type="button" class="modal-close rounded-md bg-gray-200 px-4 py-2 text-black hover:bg-gray-300">Cancel</button>
    </div>
  </div>

  <div class="modal" id="profile-modal">
    <div class="modal-box">
      <h2>Edit Profile</h2>
      <form id="profile-form">
        <input type="text" id="profile-username" disabled class="w-full rounded-md border border-gray-300 px-3 py-2"/>
        <select id="profile-country" class="w-full rounded-md border border-gray-300 px-3 py-2">
          <option value="">Loading countries…</option>
        </select>
        <button type="submit" class="rounded-md bg-pink-300 px-4 py-2 text-black hover:bg-pink-400">Save</button>
        <button type="button" id="delete-account-btn" class="btn-danger">Delete Account</button>
      </form>
      <button type="button" class="modal-close rounded-md bg-gray-200 px-4 py-2 text-black hover:bg-gray-300">Close</button>
    </div>
  </div>

  <div class="modal" id="upload-modal">
    <div class="modal-box wide">
      <h2>Upload World Record</h2>
      <form id="upload-form">
        <select id="upload-course" required class="w-full rounded-md border border-gray-300 px-3 py-2">
          <option value="">Course</option>
          <option value="floria-fields">Floria Fields</option>
          <option value="waveflow-waters">Waveflow Waters</option>
          <option value="flower">Flower (Top Ride)</option>
          <option value="flow">Flow (Top Ride)</option>
        </select>

        <select id="upload-machine" required class="w-full rounded-md border border-gray-300 px-3 py-2">
          <option value="">Machine</option>
          <option value="Warp Star">Warp Star</option>
          <option value="Rex Wheelie">Rex Wheelie</option>
          <option value="Bull Tank">Bull Tank</option>
          <option value="Hop Star">Hop Star</option>
        </select>

        <input type="text" id="upload-time" placeholder="Time (e.g. 1'05&quot;780)" required class="w-full rounded-md border border-gray-300 px-3 py-2"/>

        <input type="number" step="0.001" id="upload-lap1" placeholder="Lap 1 (optional)" class="w-full rounded-md border border-gray-300 px-3 py-2"/>
        <input type="number" step="0.001" id="upload-lap2" placeholder="Lap 2 (optional)" class="w-full rounded-md border border-gray-300 px-3 py-2"/>
        <input type="number" step="0.001" id="upload-lap3" placeholder="Lap 3 (optional)" class="w-full rounded-md border border-gray-300 px-3 py-2"/>

        <select id="upload-character" required class="w-full rounded-md border border-gray-300 px-3 py-2">
          <option value="">Character</option>
          <option value="Kirby">Kirby</option>
          <option value="Marx">Marx</option>
          <option value="Taranza">Taranza</option>
          <option value="Meta Knight">Meta Knight</option>
        </select>

        <label style="display:block; margin-bottom:-10px;">Proof (video or screenshot)</label>
        <!-- <input type="file" id="upload-proof" accept="video/*,image/*" required class="modal-close max-w-xs rounded-md bg-gray-200 px-4 py-2 text-black hover:bg-gray-300"/> -->
        <input type="file" id="upload-proof" accept="video/*,image/*" required class="w-22.5 rounded-xs bg-gray-400 px-4 py-2 text-black hover:bg-gray-500"/>
        <button type="submit" class="rounded-md bg-pink-300 px-4 py-2 text-black hover:bg-pink-400">Submit Record</button>
      </form>
      <button type="button" class="modal-close rounded-md bg-gray-200 px-4 py-2 text-black hover:bg-gray-300">Cancel</button>
    </div>
  </div>

  <script src="static/scripts.js"></script>
</body>
</html>
